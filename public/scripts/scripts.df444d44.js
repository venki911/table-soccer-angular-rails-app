"use strict";angular.module("tableSoccerClientAngularApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ng-token-auth","ui.router","ui.bootstrap","ngFileUpload","ngImgCrop","ui.sortable"]).constant("defaultHost",{url:"/api"}).config(["$authProvider","$stateProvider","$urlRouterProvider","$locationProvider","defaultHost",function(a,b,c,d,e){a.configure({apiUrl:e.url,confirmationSuccessUrl:"https://table-soccer-tournaments.herokuapp.com/#/sign_in",authProviderPaths:{facebook:"/auth/facebook"}}),b.state("home",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).state("sign_in",{url:"/sign_in",templateUrl:"views/auth/sign_in.html",controller:"SessionCtrl",controllerAs:"session"}).state("sign_up",{url:"/sign_up",templateUrl:"views/auth/sign_up.html",controller:"RegisterCtrl",controllerAs:"register"}).state("tournaments",{url:"/tournaments",templateUrl:"views/tournaments/index.html",controller:"TournamentsCtrl",controllerAs:"tournaments"}).state("tournaments_show",{url:"/tournaments/:id",templateUrl:"views/tournaments/show.html",controller:"TournamentDetailsCtrl",controllerAs:"tournament"}).state("user_profile",{url:"/user/profile",templateUrl:"views/users/profile.html",controller:"ProfileCtrl",controllerAs:"profile"}).state("setup_tournament",{url:"/tournaments/:id/setup",templateUrl:"views/tournaments/setup_tournament.html",controller:"TournamentSetupCtrl",controllerAs:"setup"}),c.otherwise("/")}]).run(["$rootScope","$location","defaultHost","$auth",function(a,b,c,d){a.defaultHost="https://table-soccer-tournaments.herokuapp.com",a.$on("auth:login-success",function(){b.path("/")}),a.$on("$stateChangeStart",function(c,e,f,g,h){b.url(b.path()),"user_profile"!==e.name||a.user.id||d.validateUser().then(function(){},function(){b.path("/sign_in")})}),a.$on("auth:logout-success",function(a){b.path("/")})}]),angular.module("tableSoccerClientAngularApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("tableSoccerClientAngularApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),function(){function a(a,b,c){a.user.id&&c.path("/"),b.$on("auth:login-error",function(a,c){b.error=c.errors})}angular.module("tableSoccerClientAngularApp").controller("SessionCtrl",["$rootScope","$scope","$location",a])}(),function(){function a(a,b,c,d){a.user.id&&c.path("/"),b.$on("auth:registration-email-error",function(a,c){b.error=c.errors}),b.$on("auth:registration-email-success",function(a,b){window.alert("A confirmation email was sent to "+b.email)}),b.handleRegBtnClick=function(){d.submitRegistration(b.registrationForm).then(function(){c.path("/")})}}angular.module("tableSoccerClientAngularApp").controller("RegisterCtrl",["$rootScope","$scope","$location","$auth",a])}(),function(){function a(a,b){function c(){return b.get(a.url+"/tournaments.json")}function d(c){return b.get(a.url+"/tournaments/"+c+".json")}function e(c){return b.post(a.url+"/tournaments.json",c)}function f(c){return b.put(a.url+"/tournaments/"+c.tournament.id+".json",c)}function g(c){return b.post(a.url+"/tournaments_destroy.json",{ids:c})}var h={all:c,show:d,create:e,update:f,destroy:g};return h}angular.module("tableSoccerClientAngularApp").factory("tournamentService",["defaultHost","$http",a])}(),function(){function a(a,b){function c(){a.all().success(function(a){d.tournaments=a}).error(function(a){d.errors=a,console.log(a)})}var d=this;c(),d.openNewModalWindow=function(){b.open({templateUrl:"views/modal.html",controller:"TournamentsNewCtrl"}).result.then(function(a){d.tournaments.push(a)})},d.editModalWindow=function(a){b.open({templateUrl:"views/modal.html",controller:"TournamentsEditCtrl",resolve:{tournament:function(){return a}}})},d.deletedItems=[],d.undoDeleting=function(a){var b=d.deletedItems.indexOf(a);b>-1&&d.deletedItems.splice(b,1)},d.confirmDelete=function(){a.destroy(d.deletedItems).success(function(){c()}).error(function(a){console.error(a)}),d.deletedItems=[]}}angular.module("tableSoccerClientAngularApp").controller("TournamentsCtrl",["tournamentService","$uibModal",a])}(),function(){function a(a,b,c,d){function e(){d.show(b.params.id).success(function(a){f.tournament=a.tournament,f.teams=a.teams,f.matches=a.matches,f.results=a.results_table;var b=a.playoff_bracket,c=[],d=[];d=b[0].teams,c=b[0].goals;var e={teams:d,results:c};$("#playoff-bracket").bracket({init:e})}).error(function(a){f.errors=a,console.error(f.errors)})}var f=this;a.sortType="datetime",a.sortReverse=!1,a.searchMatch="",f.editTournamentModalWindow=function(a){c.open({templateUrl:"views/modal.html",controller:"TournamentsEditCtrl",resolve:{tournament:function(){return a}}})},f.editRoundModalWindow=function(a,b){c.open({templateUrl:"views/modal.html",controller:"TournamentRoundEditCtrl",size:"lg",resolve:{round:function(){return{rounds:a,tournament_id:b}}}}).result.then(function(a){for(var b=0;b<f.matches.length;b++)f.matches[b].match.id===a.match.id&&(f.matches[b].match=a.match);var c=0;switch(a.first_tour){case"1/8":c=17;break;case"1/4":c=9;break;case"1/2":c=5;break;case"final":c=2}"finished"===f.matches[f.matches.length-c].match.status&&e()})},f.findWinnerTeam=function(a){var b=f.teams.map(function(a){return a.id}).indexOf(a);return b>-1?f.teams[b].name:""},e()}angular.module("tableSoccerClientAngularApp").controller("TournamentDetailsCtrl",["$scope","$state","$uibModal","tournamentService",a])}(),function(){function a(a,b,c,d){a.templateUrl="views/tournaments/tournament_form.html",a.title="Create new tournament",a.action="Create",a.tournament={name:"",tourn_type:"not started",place:"",datetime:""},a.$watch("tournament.datetime",function(c){c&&(a.tournament.datetime=b("date")(new Date(c),"MMM d, y H:mm"))}),a.ok=function(){a.tournament.datetime=new Date(a.tournament.datetime).toUTCString(),c.create({tournament:a.tournament}).success(function(a){d.close(a)}).error(function(a){console.error(a)})},a.cancel=function(){d.dismiss()}}angular.module("tableSoccerClientAngularApp").controller("TournamentsNewCtrl",["$scope","$filter","tournamentService","$uibModalInstance",a])}(),function(){function a(a,b,c,d,e){a.templateUrl="views/tournaments/tournament_form.html",a.title="Edit tournament",a.action="Update",a.tournament={id:e.id,name:e.name,tourn_type:e.tourn_type,place:e.place,datetime:e.datetime},a.$watch("tournament.datetime",function(c){c&&(a.tournament.datetime=b("date")(c,"MMM d, y H:mm"))}),a.ok=function(){var b=a.tournament.datetime;a.tournament.datetime=new Date(a.tournament.datetime).toUTCString(),c.update({tournament:a.tournament}).success(function(){a.tournament.datetime=b,angular.copy(a.tournament,e),d.close()}).error(function(a){console.error(a)})},a.cancel=function(){d.dismiss()}}angular.module("tableSoccerClientAngularApp").controller("TournamentsEditCtrl",["$scope","$filter","tournamentService","$uibModalInstance","tournament",a])}(),function(){function a(a,b,c,d,e){function f(a){c.getUsersByTeam(a.team_id).success(function(b){a.users=b})}a.templateUrl="views/tournaments/edit_tournament_round.html",a.title="Edit tournament match round № "+e.rounds[0].round_number,a.action="Update";for(var g=0;g<e.rounds.length;g++)f(e.rounds[g]);a.round=e,a.ok=function(){for(var b=[],f=0,g=0;g<a.round.rounds.length;g++)for(var h=0;h<a.round.rounds[g].users.length;h++)b[f++]={user_id:a.round.rounds[g].users[h].id,match_id:a.round.rounds[g].match_id,team_id:a.round.rounds[g].team_id,match_round_id:a.round.rounds[g].id,scored_goals:parseInt($("#"+a.round.rounds[g].users[h].id).val())};c.setUsersResults(b).success(function(a){for(var b=0;b<e.rounds.length;b++)e.rounds[b]=a.rounds[b];d.close(a)})},a.cancel=function(){d.dismiss()}}angular.module("tableSoccerClientAngularApp").controller("TournamentRoundEditCtrl",["$scope","tournamentService","UserService","$uibModalInstance","round",a])}();var DateFormatter;!function(){var a,b,c,d,e,f;e=864e5,f=3600,a=function(a,b){return"string"==typeof a&&"string"==typeof b&&a.toLowerCase()===b.toLowerCase()},b=function(a,c,d){var e=d||"0",f=a.toString();return f.length<c?b(e+f,c):f},c=function(a){var b,d;for(a=a||{},b=1;b<arguments.length;b++)if(d=arguments[b])for(var e in d)d.hasOwnProperty(e)&&("object"==typeof d[e]?c(a[e],d[e]):a[e]=d[e]);return a},d={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(a){var b=a%10,c={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(a%100/10)&&c[b]?c[b]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},DateFormatter=function(a){var b=this,e=c(d,a);b.dateSettings=e.dateSettings,b.separators=e.separators,b.validParts=e.validParts,b.intParts=e.intParts,b.tzParts=e.tzParts,b.tzClip=e.tzClip},DateFormatter.prototype={constructor:DateFormatter,parseDate:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=this,o=!1,p=!1,q=n.dateSettings,r={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!b)return void 0;if(b instanceof Date)return b;if("number"==typeof b)return new Date(b);if("U"===c)return f=parseInt(b),f?new Date(1e3*f):b;if("string"!=typeof b)return"";if(d=c.match(n.validParts),!d||0===d.length)throw new Error("Invalid date format definition.");for(e=b.replace(n.separators,"\x00").split("\x00"),f=0;f<e.length;f++)switch(g=e[f],h=parseInt(g),d[f]){case"y":case"Y":l=g.length,2===l?r.year=parseInt((70>h?"20":"19")+g):4===l&&(r.year=h),o=!0;break;case"m":case"n":case"M":case"F":isNaN(g)?(i=q.monthsShort.indexOf(g),i>-1&&(r.month=i+1),i=q.months.indexOf(g),i>-1&&(r.month=i+1)):h>=1&&12>=h&&(r.month=h),o=!0;break;case"d":case"j":h>=1&&31>=h&&(r.day=h),o=!0;break;case"g":case"h":j=d.indexOf("a")>-1?d.indexOf("a"):d.indexOf("A")>-1?d.indexOf("A"):-1,m=e[j],j>-1?(k=a(m,q.meridiem[0])?0:a(m,q.meridiem[1])?12:-1,h>=1&&12>=h&&k>-1?r.hour=h+k-1:h>=0&&23>=h&&(r.hour=h)):h>=0&&23>=h&&(r.hour=h),p=!0;break;case"G":case"H":h>=0&&23>=h&&(r.hour=h),p=!0;break;case"i":h>=0&&59>=h&&(r.min=h),p=!0;break;case"s":h>=0&&59>=h&&(r.sec=h),p=!0}if(o===!0&&r.year&&r.month&&r.day)r.date=new Date(r.year,r.month-1,r.day,r.hour,r.min,r.sec,0);else{if(p!==!0)return!1;r.date=new Date(0,0,0,r.hour,r.min,r.sec,0)}return r.date},guessDate:function(a,b){if("string"!=typeof a)return a;var c,d,e,f,g=this,h=a.replace(g.separators,"\x00").split("\x00"),i=/^[djmn]/g,j=b.match(g.validParts),k=new Date,l=0;if(!i.test(j[0]))return a;for(d=0;d<h.length;d++){switch(l=2,e=h[d],f=parseInt(e.substr(0,2)),d){case 0:"m"===j[0]||"n"===j[0]?k.setMonth(f-1):k.setDate(f);break;case 1:"m"===j[0]||"n"===j[0]?k.setDate(f):k.setMonth(f-1);break;case 2:c=k.getFullYear(),e.length<4?(k.setFullYear(parseInt(c.toString().substr(0,4-e.length)+e)),l=e.length):(k.setFullYear=parseInt(e.substr(0,4)),l=4);break;case 3:k.setHours(f);break;case 4:k.setMinutes(f);break;case 5:k.setSeconds(f)}e.substr(l).length>0&&h.splice(d+1,0,e.substr(l))}return k},parseFormat:function(a,c){var d,g=this,h=g.dateSettings,i=/\\?(.?)/gi,j=function(a,b){return d[a]?d[a]():b};return d={d:function(){return b(d.j(),2)},D:function(){return h.daysShort[d.w()]},j:function(){return c.getDate()},l:function(){return h.days[d.w()]},N:function(){return d.w()||7},w:function(){return c.getDay()},z:function(){var a=new Date(d.Y(),d.n()-1,d.j()),b=new Date(d.Y(),0,1);return Math.round((a-b)/e)},W:function(){var a=new Date(d.Y(),d.n()-1,d.j()-d.N()+3),c=new Date(a.getFullYear(),0,4);return b(1+Math.round((a-c)/e/7),2)},F:function(){return h.months[c.getMonth()]},m:function(){return b(d.n(),2)},M:function(){return h.monthsShort[c.getMonth()]},n:function(){return c.getMonth()+1},t:function(){return new Date(d.Y(),d.n(),0).getDate()},L:function(){var a=d.Y();return a%4===0&&a%100!==0||a%400===0?1:0},o:function(){var a=d.n(),b=d.W(),c=d.Y();return c+(12===a&&9>b?1:1===a&&b>9?-1:0)},Y:function(){return c.getFullYear()},y:function(){return d.Y().toString().slice(-2)},a:function(){return d.A().toLowerCase()},A:function(){var a=d.G()<12?0:1;return h.meridiem[a]},B:function(){var a=c.getUTCHours()*f,d=60*c.getUTCMinutes(),e=c.getUTCSeconds();return b(Math.floor((a+d+e+f)/86.4)%1e3,3)},g:function(){return d.G()%12||12},G:function(){return c.getHours()},h:function(){return b(d.g(),2)},H:function(){return b(d.G(),2)},i:function(){return b(c.getMinutes(),2)},s:function(){return b(c.getSeconds(),2)},u:function(){return b(1e3*c.getMilliseconds(),6)},e:function(){var a=/\((.*)\)/.exec(String(c))[1];return a||"Coordinated Universal Time"},T:function(){var a=(String(c).match(g.tzParts)||[""]).pop().replace(g.tzClip,"");return a||"UTC"},I:function(){var a=new Date(d.Y(),0),b=Date.UTC(d.Y(),0),c=new Date(d.Y(),6),e=Date.UTC(d.Y(),6);return a-b!==c-e?1:0},O:function(){var a=c.getTimezoneOffset(),d=Math.abs(a);return(a>0?"-":"+")+b(100*Math.floor(d/60)+d%60,4)},P:function(){var a=d.O();return a.substr(0,3)+":"+a.substr(3,2)},Z:function(){return 60*-c.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,j)},r:function(){return"D, d M Y H:i:s O".replace(i,j)},U:function(){return c.getTime()/1e3||0}},j(a,a)},formatDate:function(a,b){var c,d,e,f,g,h=this,i="";if("string"==typeof a&&(a=h.parseDate(a,b),a===!1))return!1;if(a instanceof Date){for(e=b.length,c=0;e>c;c++)g=b.charAt(c),"S"!==g&&(f=h.parseFormat(g,a),c!==e-1&&h.intParts.test(g)&&"S"===b.charAt(c+1)&&(d=parseInt(f),f+=h.dateSettings.ordinal(d)),i+=f);return i}return""}}}(),function(a){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(a,b,c){this.date=a,this.desc=b,this.style=c}var c={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeekShort:["ن","ث","ع","خ","ج","س","ح"],dayOfWeek:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت","الأحد"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","Sâ"],dayOfWeek:["Duminică","Luni","Marţi","Miercuri","Joi","Vineri","Sâmbătă"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeekShort:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"],dayOfWeek:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeekShort:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeekShort:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],dayOfWeek:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنج‌شنبه","جمعه","شنبه","یک‌شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeekShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayOfWeek:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeekShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayOfWeek:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeekShort:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"],dayOfWeek:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeekShort:["Paz","Pts","Sal","Çar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],dayOfWeek:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeekShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayOfWeek:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัส","ศุกร์","เสาร์","อาทิตย์"]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeekShort:["nd","pn","wt","śr","cz","pt","sb"],dayOfWeek:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],dayOfWeek:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeekShort:["日","月","火","水","木","金","土"],dayOfWeek:["日曜","月曜","火曜","水曜","木曜","金曜","土曜"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeekShort:["Va","Hé","Ke","Sze","Cs","Pé","Szo"],dayOfWeek:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ça","Ç","Ca","C","Ş"],dayOfWeek:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","Mércores","Xoves","Venres","Sábado"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeekShort:["일","월","화","수","목","금","토"],dayOfWeek:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeekShort:["нед","пон","вто","сре","чет","пет","саб"],dayOfWeek:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeekShort:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"],dayOfWeek:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],dayOfWeek:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Št","Pi","So"],dayOfWeek:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"],dayOfWeekShort:["Die","Hën","Mar","Mër","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E Hënë","E Martē","E Mërkurë","E Enjte","E Premte","E Shtunë"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","čet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeekShort:["нед","пон","уто","сре","чет","пет","суб"],dayOfWeek:["Недеља","Понедељак","Уторак","Среда","Четвртак","Петак","Субота"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],dayOfWeek:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeekShort:["日","一","二","三","四","五","六"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeekShort:["א'","ב'","ג'","ד'","ה'","ו'","שבת"],dayOfWeek:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת","ראשון"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeekShort:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"],dayOfWeek:["Կիրակի","Երկուշաբթի","Երեքշաբթի","Չորեքշաբթի","Հինգշաբթի","Ուրբաթ","Շաբաթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeekShort:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"],dayOfWeek:["Жекшемб","Дүйшөмб","Шейшемб","Шаршемб","Бейшемби","Жума","Ишенб"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"],dayOfWeekShort:["კვ","ორშ","სამშ","ოთხ","ხუთ","პარ","შაბ"],dayOfWeek:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},d=null,e="en",f="en",g={meridiem:["AM","PM"]},h=function(){var b=c.i18n[f],e={days:b.dayOfWeek,daysShort:b.dayOfWeekShort,months:b.months,monthsShort:a.map(b.months,function(a){return a.substring(0,3)})};d=new DateFormatter({dateSettings:a.extend({},g,e)})};a.datetimepicker={setLocale:function(a){var b=c.i18n[a]?a:e;f!=b&&(f=b,h())},setDateFormatter:function(a){d=a},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},h(),window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(a,b,c){return c.toUpperCase()})),a.currentStyle[b]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c,d;for(c=b||0,d=this.length;d>c;c+=1)if(this[c]===a)return c;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},a.fn.xdsoftScroller=function(b){return this.each(function(){var c,d,e,f,g,h=a(this),i=function(a){var b,c={x:0,y:0};return"touchstart"===a.type||"touchmove"===a.type||"touchend"===a.type||"touchcancel"===a.type?(b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],c.x=b.clientX,c.y=b.clientY):("mousedown"===a.type||"mouseup"===a.type||"mousemove"===a.type||"mouseover"===a.type||"mouseout"===a.type||"mouseenter"===a.type||"mouseleave"===a.type)&&(c.x=a.clientX,c.y=a.clientY),c},j=100,k=!1,l=0,m=0,n=0,o=!1,p=0,q=function(){};return"hide"===b?void h.find(".xdsoft_scrollbar").hide():(a(this).hasClass("xdsoft_scroller_box")||(c=h.children().eq(0),d=h[0].clientHeight,e=c[0].offsetHeight,f=a('<div class="xdsoft_scrollbar"></div>'),g=a('<div class="xdsoft_scroller"></div>'),f.append(g),h.addClass("xdsoft_scroller_box").append(f),q=function(a){var b=i(a).y-l+p;0>b&&(b=0),b+g[0].offsetHeight>n&&(b=n-g[0].offsetHeight),h.trigger("scroll_element.xdsoft_scroller",[j?b/j:0])},g.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(c){d||h.trigger("resize_scroll.xdsoft_scroller",[b]),l=i(c).y,p=parseInt(g.css("margin-top"),10),n=f[0].offsetHeight,"mousedown"===c.type||"touchstart"===c.type?(document&&a(document.body).addClass("xdsoft_noselect"),a([document.body,window]).on("touchend mouseup.xdsoft_scroller",function e(){a([document.body,window]).off("touchend mouseup.xdsoft_scroller",e).off("mousemove.xdsoft_scroller",q).removeClass("xdsoft_noselect");
}),a(document.body).on("mousemove.xdsoft_scroller",q)):(o=!0,c.stopPropagation(),c.preventDefault())}).on("touchmove",function(a){o&&(a.preventDefault(),q(a))}).on("touchend touchcancel",function(){o=!1,p=0}),h.on("scroll_element.xdsoft_scroller",function(a,b){d||h.trigger("resize_scroll.xdsoft_scroller",[b,!0]),b=b>1?1:0>b||isNaN(b)?0:b,g.css("margin-top",j*b),setTimeout(function(){c.css("marginTop",-parseInt((c[0].offsetHeight-d)*b,10))},10)}).on("resize_scroll.xdsoft_scroller",function(a,b,i){var k,l;d=h[0].clientHeight,e=c[0].offsetHeight,k=d/e,l=k*f[0].offsetHeight,k>1?g.hide():(g.show(),g.css("height",parseInt(l>10?l:10,10)),j=f[0].offsetHeight-g[0].offsetHeight,i!==!0&&h.trigger("scroll_element.xdsoft_scroller",[b||Math.abs(parseInt(c.css("marginTop"),10))/(e-d)]))}),h.on("mousewheel",function(a){var b=Math.abs(parseInt(c.css("marginTop"),10));return b-=20*a.deltaY,0>b&&(b=0),h.trigger("scroll_element.xdsoft_scroller",[b/(e-d)]),a.stopPropagation(),!1}),h.on("touchstart",function(a){k=i(a),m=Math.abs(parseInt(c.css("marginTop"),10))}),h.on("touchmove",function(a){if(k){a.preventDefault();var b=i(a);h.trigger("scroll_element.xdsoft_scroller",[(m-(b.y-k.y))/(e-d)])}}),h.on("touchend touchcancel",function(){k=!1,m=0})),void h.trigger("resize_scroll.xdsoft_scroller",[b]))})},a.fn.datetimepicker=function(e,g){var h,i,j=this,k=48,l=57,m=96,n=105,o=17,p=46,q=13,r=27,s=8,t=37,u=38,v=39,w=40,x=9,y=116,z=65,A=67,B=86,C=90,D=89,E=!1,F=a.isPlainObject(e)||!e?a.extend(!0,{},c,e):a.extend(!0,{},c),G=0,H=function(a){a.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function b(){a.is(":disabled")||a.data("xdsoft_datetimepicker")||(clearTimeout(G),G=setTimeout(function(){a.data("xdsoft_datetimepicker")||h(a),a.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",b).trigger("open.xdsoft")},100))})};return h=function(c){function g(){var a,b=!1;return F.startDate?b=J.strToDate(F.startDate):(b=F.value||(c&&c.val&&c.val()?c.val():""),b?b=J.strToDateTime(b):F.defaultDate&&(b=J.strToDateTime(F.defaultDate),F.defaultTime&&(a=J.strtotime(F.defaultTime),b.setHours(a.getHours()),b.setMinutes(a.getMinutes())))),b&&J.isValidDate(b)?L.data("changed",!0):b="",b||0}function h(b){var d=function(a,b){var c=a.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(c).test(b)},e=function(a){try{if(document.selection&&document.selection.createRange){var b=document.selection.createRange();return b.getBookmark().charCodeAt(2)-2}if(a.setSelectionRange)return a.selectionStart}catch(c){return 0}},f=function(a,b){if(a="string"==typeof a||a instanceof String?document.getElementById(a):a,!a)return!1;if(a.createTextRange){var c=a.createTextRange();return c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select(),!0}return a.setSelectionRange?(a.setSelectionRange(b,b),!0):!1};b.mask&&c.off("keydown.xdsoft"),b.mask===!0&&(b.mask="undefined"!=typeof moment?b.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):b.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===a.type(b.mask)&&(d(b.mask,c.val())||(c.val(b.mask.replace(/[0-9]/g,"_")),f(c[0],0)),c.on("keydown.xdsoft",function(g){var h,i,j=this.value,F=g.which;if(F>=k&&l>=F||F>=m&&n>=F||F===s||F===p){for(h=e(this),i=F!==s&&F!==p?String.fromCharCode(F>=m&&n>=F?F-k:F):"_",F!==s&&F!==p||!h||(h-=1,i="_");/[^0-9_]/.test(b.mask.substr(h,1))&&h<b.mask.length&&h>0;)h+=F===s||F===p?-1:1;if(j=j.substr(0,h)+i+j.substr(h+1),""===a.trim(j))j=b.mask.replace(/[0-9]/g,"_");else if(h===b.mask.length)return g.preventDefault(),!1;for(h+=F===s||F===p?0:1;/[^0-9_]/.test(b.mask.substr(h,1))&&h<b.mask.length&&h>0;)h+=F===s||F===p?-1:1;d(b.mask,j)?(this.value=j,f(this,h)):""===a.trim(j)?this.value=b.mask.replace(/[0-9]/g,"_"):c.trigger("error_input.xdsoft")}else if(-1!==[z,A,B,C,D].indexOf(F)&&E||-1!==[r,u,w,t,v,y,o,x,q].indexOf(F))return!0;return g.preventDefault(),!1}))}var i,j,G,H,I,J,K,L=a('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),M=a('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),N=a('<div class="xdsoft_datepicker active"></div>'),O=a('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),P=a('<div class="xdsoft_calendar"></div>'),Q=a('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),R=Q.find(".xdsoft_time_box").eq(0),S=a('<div class="xdsoft_time_variant"></div>'),T=a('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),U=a('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),V=a('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),W=!1,X=0;F.id&&L.attr("id",F.id),F.style&&L.attr("style",F.style),F.weeks&&L.addClass("xdsoft_showweeks"),F.rtl&&L.addClass("xdsoft_rtl"),L.addClass("xdsoft_"+F.theme),L.addClass(F.className),O.find(".xdsoft_month span").after(U),O.find(".xdsoft_year span").after(V),O.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(b){var c,d,e=a(this).find(".xdsoft_select").eq(0),f=0,g=0,h=e.is(":visible");for(O.find(".xdsoft_select").hide(),J.currentTime&&(f=J.currentTime[a(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),e[h?"hide":"show"](),c=e.find("div.xdsoft_option"),d=0;d<c.length&&c.eq(d).data("value")!==f;d+=1)g+=c[0].offsetHeight;return e.xdsoftScroller(g/(e.children()[0].offsetHeight-e[0].clientHeight)),b.stopPropagation(),!1}),O.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",function(a){a.stopPropagation(),a.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(){(void 0===J.currentTime||null===J.currentTime)&&(J.currentTime=J.now());var b=J.currentTime.getFullYear();J&&J.currentTime&&J.currentTime[a(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](a(this).data("value")),a(this).parent().parent().hide(),L.trigger("xchange.xdsoft"),F.onChangeMonth&&a.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(L,J.currentTime,L.data("input")),b!==J.currentTime.getFullYear()&&a.isFunction(F.onChangeYear)&&F.onChangeYear.call(L,J.currentTime,L.data("input"))}),L.getValue=function(){return J.getCurrentTime()},L.setOptions=function(e){var f={};F=a.extend(!0,{},F,e),e.allowTimes&&a.isArray(e.allowTimes)&&e.allowTimes.length&&(F.allowTimes=a.extend(!0,[],e.allowTimes)),e.weekends&&a.isArray(e.weekends)&&e.weekends.length&&(F.weekends=a.extend(!0,[],e.weekends)),e.allowDates&&a.isArray(e.allowDates)&&e.allowDates.length&&(F.allowDates=a.extend(!0,[],e.allowDates)),e.allowDateRe&&"[object String]"===Object.prototype.toString.call(e.allowDateRe)&&(F.allowDateRe=new RegExp(e.allowDateRe)),e.highlightedDates&&a.isArray(e.highlightedDates)&&e.highlightedDates.length&&(a.each(e.highlightedDates,function(c,e){var g,h=a.map(e.split(","),a.trim),i=new b(d.parseDate(h[0],F.formatDate),h[1],h[2]),j=d.formatDate(i.date,F.formatDate);void 0!==f[j]?(g=f[j].desc,g&&g.length&&i.desc&&i.desc.length&&(f[j].desc=g+"\n"+i.desc)):f[j]=i}),F.highlightedDates=a.extend(!0,[],f)),e.highlightedPeriods&&a.isArray(e.highlightedPeriods)&&e.highlightedPeriods.length&&(f=a.extend(!0,[],F.highlightedDates),a.each(e.highlightedPeriods,function(c,e){var g,h,i,j,k,l,m;if(a.isArray(e))g=e[0],h=e[1],i=e[2],m=e[3];else{var n=a.map(e.split(","),a.trim);g=d.parseDate(n[0],F.formatDate),h=d.parseDate(n[1],F.formatDate),i=n[2],m=n[3]}for(;h>=g;)j=new b(g,i,m),k=d.formatDate(g,F.formatDate),g.setDate(g.getDate()+1),void 0!==f[k]?(l=f[k].desc,l&&l.length&&j.desc&&j.desc.length&&(f[k].desc=l+"\n"+j.desc)):f[k]=j}),F.highlightedDates=a.extend(!0,[],f)),e.disabledDates&&a.isArray(e.disabledDates)&&e.disabledDates.length&&(F.disabledDates=a.extend(!0,[],e.disabledDates)),e.disabledWeekDays&&a.isArray(e.disabledWeekDays)&&e.disabledWeekDays.length&&(F.disabledWeekDays=a.extend(!0,[],e.disabledWeekDays)),!F.open&&!F.opened||F.inline||c.trigger("open.xdsoft"),F.inline&&(W=!0,L.addClass("xdsoft_inline"),c.after(L).hide()),F.inverseButton&&(F.next="xdsoft_prev",F.prev="xdsoft_next"),F.datepicker?N.addClass("active"):N.removeClass("active"),F.timepicker?Q.addClass("active"):Q.removeClass("active"),F.value&&(J.setCurrentTime(F.value),c&&c.val&&c.val(J.str)),F.dayOfWeekStart=isNaN(F.dayOfWeekStart)?0:parseInt(F.dayOfWeekStart,10)%7,F.timepickerScrollbar||R.xdsoftScroller("hide"),F.minDate&&/^[\+\-](.*)$/.test(F.minDate)&&(F.minDate=d.formatDate(J.strToDateTime(F.minDate),F.formatDate)),F.maxDate&&/^[\+\-](.*)$/.test(F.maxDate)&&(F.maxDate=d.formatDate(J.strToDateTime(F.maxDate),F.formatDate)),T.toggle(F.showApplyButton),O.find(".xdsoft_today_button").css("visibility",F.todayButton?"visible":"hidden"),O.find("."+F.prev).css("visibility",F.prevButton?"visible":"hidden"),O.find("."+F.next).css("visibility",F.nextButton?"visible":"hidden"),h(F),F.validateOnBlur&&c.off("blur.xdsoft").on("blur.xdsoft",function(){if(F.allowBlank&&(!a.trim(a(this).val()).length||"string"==typeof F.mask&&a.trim(a(this).val())===F.mask.replace(/[0-9]/g,"_")))a(this).val(null),L.data("xdsoft_datetime").empty();else{var b=d.parseDate(a(this).val(),F.format);if(b)a(this).val(d.formatDate(b,F.format));else{var c=+[a(this).val()[0],a(this).val()[1]].join(""),e=+[a(this).val()[2],a(this).val()[3]].join("");a(this).val(!F.datepicker&&F.timepicker&&c>=0&&24>c&&e>=0&&60>e?[c,e].map(function(a){return a>9?a:"0"+a}).join(":"):d.formatDate(J.now(),F.format))}L.data("xdsoft_datetime").setCurrentTime(a(this).val())}L.trigger("changedatetime.xdsoft"),L.trigger("close.xdsoft")}),F.dayOfWeekStartPrev=0===F.dayOfWeekStart?6:F.dayOfWeekStart-1,L.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},L.data("options",F).on("touchstart mousedown.xdsoft",function(a){return a.stopPropagation(),a.preventDefault(),V.hide(),U.hide(),!1}),R.append(S),R.xdsoftScroller(),L.on("afterOpen.xdsoft",function(){R.xdsoftScroller()}),L.append(N).append(Q),F.withoutCopyright!==!0&&L.append(M),N.append(O).append(P).append(T),a(F.parentID).append(L),i=function(){var b=this;b.now=function(a){var c,d,e=new Date;return!a&&F.defaultDate&&(c=b.strToDateTime(F.defaultDate),e.setFullYear(c.getFullYear()),e.setMonth(c.getMonth()),e.setDate(c.getDate())),F.yearOffset&&e.setFullYear(e.getFullYear()+F.yearOffset),!a&&F.defaultTime&&(d=b.strtotime(F.defaultTime),e.setHours(d.getHours()),e.setMinutes(d.getMinutes())),e},b.isValidDate=function(a){return"[object Date]"!==Object.prototype.toString.call(a)?!1:!isNaN(a.getTime())},b.setCurrentTime=function(a){b.currentTime="string"==typeof a?b.strToDateTime(a):b.isValidDate(a)?a:b.now(),L.trigger("xchange.xdsoft")},b.empty=function(){b.currentTime=null},b.getCurrentTime=function(){return b.currentTime},b.nextMonth=function(){(void 0===b.currentTime||null===b.currentTime)&&(b.currentTime=b.now());var c,d=b.currentTime.getMonth()+1;return 12===d&&(b.currentTime.setFullYear(b.currentTime.getFullYear()+1),d=0),c=b.currentTime.getFullYear(),b.currentTime.setDate(Math.min(new Date(b.currentTime.getFullYear(),d+1,0).getDate(),b.currentTime.getDate())),b.currentTime.setMonth(d),F.onChangeMonth&&a.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(L,J.currentTime,L.data("input")),c!==b.currentTime.getFullYear()&&a.isFunction(F.onChangeYear)&&F.onChangeYear.call(L,J.currentTime,L.data("input")),L.trigger("xchange.xdsoft"),d},b.prevMonth=function(){(void 0===b.currentTime||null===b.currentTime)&&(b.currentTime=b.now());var c=b.currentTime.getMonth()-1;return-1===c&&(b.currentTime.setFullYear(b.currentTime.getFullYear()-1),c=11),b.currentTime.setDate(Math.min(new Date(b.currentTime.getFullYear(),c+1,0).getDate(),b.currentTime.getDate())),b.currentTime.setMonth(c),F.onChangeMonth&&a.isFunction(F.onChangeMonth)&&F.onChangeMonth.call(L,J.currentTime,L.data("input")),L.trigger("xchange.xdsoft"),c},b.getWeekOfYear=function(b){if(F.onGetWeekOfYear&&a.isFunction(F.onGetWeekOfYear)){var c=F.onGetWeekOfYear.call(L,b);if("undefined"!=typeof c)return c}var d=new Date(b.getFullYear(),0,1);return 4!=d.getDay()&&d.setMonth(0,1+(4-d.getDay()+7)%7),Math.ceil(((b-d)/864e5+d.getDay()+1)/7)},b.strToDateTime=function(a){var c,e,f=[];return a&&a instanceof Date&&b.isValidDate(a)?a:(f=/^(\+|\-)(.*)$/.exec(a),f&&(f[2]=d.parseDate(f[2],F.formatDate)),f&&f[2]?(c=f[2].getTime()-6e4*f[2].getTimezoneOffset(),e=new Date(b.now(!0).getTime()+parseInt(f[1]+"1",10)*c)):e=a?d.parseDate(a,F.format):b.now(),b.isValidDate(e)||(e=b.now()),e)},b.strToDate=function(a){if(a&&a instanceof Date&&b.isValidDate(a))return a;var c=a?d.parseDate(a,F.formatDate):b.now(!0);return b.isValidDate(c)||(c=b.now(!0)),c},b.strtotime=function(a){if(a&&a instanceof Date&&b.isValidDate(a))return a;var c=a?d.parseDate(a,F.formatTime):b.now(!0);return b.isValidDate(c)||(c=b.now(!0)),c},b.str=function(){return d.formatDate(b.currentTime,F.format)},b.currentTime=this.now()},J=new i,T.on("touchend click",function(a){a.preventDefault(),L.data("changed",!0),J.setCurrentTime(g()),c.val(J.str()),L.trigger("close.xdsoft")}),O.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){L.data("changed",!0),J.setCurrentTime(0),L.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var a,b,d=J.getCurrentTime();d=new Date(d.getFullYear(),d.getMonth(),d.getDate()),a=J.strToDate(F.minDate),a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),a>d||(b=J.strToDate(F.maxDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate()),d>b||(c.val(J.str()),c.trigger("change"),L.trigger("close.xdsoft")))}),O.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var b=a(this),c=0,d=!1;!function e(a){b.hasClass(F.next)?J.nextMonth():b.hasClass(F.prev)&&J.prevMonth(),F.monthChangeSpinner&&(d||(c=setTimeout(e,a||100)))}(500),a([document.body,window]).on("touchend mouseup.xdsoft",function f(){clearTimeout(c),d=!0,a([document.body,window]).off("touchend mouseup.xdsoft",f)})}),Q.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var b=a(this),c=0,d=!1,e=110;!function f(a){var g=R[0].clientHeight,h=S[0].offsetHeight,i=Math.abs(parseInt(S.css("marginTop"),10));b.hasClass(F.next)&&h-g-F.timeHeightInTimePicker>=i?S.css("marginTop","-"+(i+F.timeHeightInTimePicker)+"px"):b.hasClass(F.prev)&&i-F.timeHeightInTimePicker>=0&&S.css("marginTop","-"+(i-F.timeHeightInTimePicker)+"px"),R.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(S[0].style.marginTop,10)/(h-g))]),e=e>10?10:e-10,d||(c=setTimeout(f,a||e))}(500),a([document.body,window]).on("touchend mouseup.xdsoft",function g(){clearTimeout(c),d=!0,a([document.body,window]).off("touchend mouseup.xdsoft",g)})}),j=0,L.on("xchange.xdsoft",function(b){clearTimeout(j),j=setTimeout(function(){(void 0===J.currentTime||null===J.currentTime)&&(J.currentTime=J.now());for(var b,g,h,i,j,k,l,m,n,o,p="",q=new Date(J.currentTime.getFullYear(),J.currentTime.getMonth(),1,12,0,0),r=0,s=J.now(),t=!1,u=!1,v=[],w=!0,x="",y="";q.getDay()!==F.dayOfWeekStart;)q.setDate(q.getDate()-1);for(p+="<table><thead><tr>",F.weeks&&(p+="<th></th>"),b=0;7>b;b+=1)p+="<th>"+F.i18n[f].dayOfWeekShort[(b+F.dayOfWeekStart)%7]+"</th>";for(p+="</tr></thead>",p+="<tbody>",F.maxDate!==!1&&(t=J.strToDate(F.maxDate),t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59,999)),F.minDate!==!1&&(u=J.strToDate(F.minDate),u=new Date(u.getFullYear(),u.getMonth(),u.getDate()));r<J.currentTime.countDaysInMonth()||q.getDay()!==F.dayOfWeekStart||J.currentTime.getMonth()===q.getMonth();)v=[],r+=1,h=q.getDay(),i=q.getDate(),j=q.getFullYear(),k=q.getMonth(),l=J.getWeekOfYear(q),o="",v.push("xdsoft_date"),m=F.beforeShowDay&&a.isFunction(F.beforeShowDay.call)?F.beforeShowDay.call(L,q):null,F.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(F.allowDateRe)?F.allowDateRe.test(d.formatDate(q,F.formatDate))||v.push("xdsoft_disabled"):F.allowDates&&F.allowDates.length>0?-1===F.allowDates.indexOf(d.formatDate(q,F.formatDate))&&v.push("xdsoft_disabled"):t!==!1&&q>t||u!==!1&&u>q||m&&m[0]===!1?v.push("xdsoft_disabled"):-1!==F.disabledDates.indexOf(d.formatDate(q,F.formatDate))?v.push("xdsoft_disabled"):-1!==F.disabledWeekDays.indexOf(h)?v.push("xdsoft_disabled"):c.is("[readonly]")&&v.push("xdsoft_disabled"),m&&""!==m[1]&&v.push(m[1]),J.currentTime.getMonth()!==k&&v.push("xdsoft_other_month"),(F.defaultSelect||L.data("changed"))&&d.formatDate(J.currentTime,F.formatDate)===d.formatDate(q,F.formatDate)&&v.push("xdsoft_current"),d.formatDate(s,F.formatDate)===d.formatDate(q,F.formatDate)&&v.push("xdsoft_today"),(0===q.getDay()||6===q.getDay()||-1!==F.weekends.indexOf(d.formatDate(q,F.formatDate)))&&v.push("xdsoft_weekend"),void 0!==F.highlightedDates[d.formatDate(q,F.formatDate)]&&(g=F.highlightedDates[d.formatDate(q,F.formatDate)],v.push(void 0===g.style?"xdsoft_highlighted_default":g.style),o=void 0===g.desc?"":g.desc),F.beforeShowDay&&a.isFunction(F.beforeShowDay)&&v.push(F.beforeShowDay(q)),w&&(p+="<tr>",w=!1,F.weeks&&(p+="<th>"+l+"</th>")),p+='<td data-date="'+i+'" data-month="'+k+'" data-year="'+j+'" class="xdsoft_date xdsoft_day_of_week'+q.getDay()+" "+v.join(" ")+'" title="'+o+'"><div>'+i+"</div></td>",q.getDay()===F.dayOfWeekStartPrev&&(p+="</tr>",w=!0),q.setDate(i+1);if(p+="</tbody></table>",P.html(p),O.find(".xdsoft_label span").eq(0).text(F.i18n[f].months[J.currentTime.getMonth()]),O.find(".xdsoft_label span").eq(1).text(J.currentTime.getFullYear()),x="",y="",k="",n=function(b,e){var f,g,h=J.now(),i=F.allowTimes&&a.isArray(F.allowTimes)&&F.allowTimes.length;h.setHours(b),b=parseInt(h.getHours(),10),h.setMinutes(e),e=parseInt(h.getMinutes(),10),f=new Date(J.currentTime),f.setHours(b),f.setMinutes(e),v=[],F.minDateTime!==!1&&F.minDateTime>f||F.maxTime!==!1&&J.strtotime(F.maxTime).getTime()<h.getTime()||F.minTime!==!1&&J.strtotime(F.minTime).getTime()>h.getTime()?v.push("xdsoft_disabled"):F.minDateTime!==!1&&F.minDateTime>f||F.disabledMinTime!==!1&&h.getTime()>J.strtotime(F.disabledMinTime).getTime()&&F.disabledMaxTime!==!1&&h.getTime()<J.strtotime(F.disabledMaxTime).getTime()?v.push("xdsoft_disabled"):c.is("[readonly]")&&v.push("xdsoft_disabled"),g=new Date(J.currentTime),g.setHours(parseInt(J.currentTime.getHours(),10)),i||g.setMinutes(Math[F.roundTime](J.currentTime.getMinutes()/F.step)*F.step),(F.initTime||F.defaultSelect||L.data("changed"))&&g.getHours()===parseInt(b,10)&&(!i&&F.step>59||g.getMinutes()===parseInt(e,10))&&(F.defaultSelect||L.data("changed")?v.push("xdsoft_current"):F.initTime&&v.push("xdsoft_init_time")),parseInt(s.getHours(),10)===parseInt(b,10)&&parseInt(s.getMinutes(),10)===parseInt(e,10)&&v.push("xdsoft_today"),x+='<div class="xdsoft_time '+v.join(" ")+'" data-hour="'+b+'" data-minute="'+e+'">'+d.formatDate(h,F.formatTime)+"</div>"},F.allowTimes&&a.isArray(F.allowTimes)&&F.allowTimes.length)for(r=0;r<F.allowTimes.length;r+=1)y=J.strtotime(F.allowTimes[r]).getHours(),k=J.strtotime(F.allowTimes[r]).getMinutes(),n(y,k);else for(r=0,b=0;r<(F.hours12?12:24);r+=1)for(b=0;60>b;b+=F.step)y=(10>r?"0":"")+r,k=(10>b?"0":"")+b,n(y,k);for(S.html(x),e="",r=0,r=parseInt(F.yearStart,10)+F.yearOffset;r<=parseInt(F.yearEnd,10)+F.yearOffset;r+=1)e+='<div class="xdsoft_option '+(J.currentTime.getFullYear()===r?"xdsoft_current":"")+'" data-value="'+r+'">'+r+"</div>";for(V.children().eq(0).html(e),r=parseInt(F.monthStart,10),e="";r<=parseInt(F.monthEnd,10);r+=1)e+='<div class="xdsoft_option '+(J.currentTime.getMonth()===r?"xdsoft_current":"")+'" data-value="'+r+'">'+F.i18n[f].months[r]+"</div>";U.children().eq(0).html(e),a(L).trigger("generate.xdsoft")},10),b.stopPropagation()}).on("afterOpen.xdsoft",function(){if(F.timepicker){var a,b,c,d;S.find(".xdsoft_current").length?a=".xdsoft_current":S.find(".xdsoft_init_time").length&&(a=".xdsoft_init_time"),a?(b=R[0].clientHeight,c=S[0].offsetHeight,d=S.find(a).index()*F.timeHeightInTimePicker+1,d>c-b&&(d=c-b),R.trigger("scroll_element.xdsoft_scroller",[parseInt(d,10)/(c-b)])):R.trigger("scroll_element.xdsoft_scroller",[0])}}),G=0,P.on("touchend click.xdsoft","td",function(b){b.stopPropagation(),G+=1;var d=a(this),e=J.currentTime;return(void 0===e||null===e)&&(J.currentTime=J.now(),e=J.currentTime),d.hasClass("xdsoft_disabled")?!1:(e.setDate(1),e.setFullYear(d.data("year")),e.setMonth(d.data("month")),e.setDate(d.data("date")),L.trigger("select.xdsoft",[e]),c.val(J.str()),F.onSelectDate&&a.isFunction(F.onSelectDate)&&F.onSelectDate.call(L,J.currentTime,L.data("input"),b),L.data("changed",!0),L.trigger("xchange.xdsoft"),L.trigger("changedatetime.xdsoft"),(G>1||F.closeOnDateSelect===!0||F.closeOnDateSelect===!1&&!F.timepicker)&&!F.inline&&L.trigger("close.xdsoft"),void setTimeout(function(){G=0},200))}),S.on("touchend click.xdsoft","div",function(b){b.stopPropagation();var c=a(this),d=J.currentTime;return(void 0===d||null===d)&&(J.currentTime=J.now(),d=J.currentTime),c.hasClass("xdsoft_disabled")?!1:(d.setHours(c.data("hour")),d.setMinutes(c.data("minute")),L.trigger("select.xdsoft",[d]),L.data("input").val(J.str()),F.onSelectTime&&a.isFunction(F.onSelectTime)&&F.onSelectTime.call(L,J.currentTime,L.data("input"),b),L.data("changed",!0),L.trigger("xchange.xdsoft"),L.trigger("changedatetime.xdsoft"),void(F.inline!==!0&&F.closeOnTimeSelect===!0&&L.trigger("close.xdsoft")))}),N.on("mousewheel.xdsoft",function(a){return F.scrollMonth?(a.deltaY<0?J.nextMonth():J.prevMonth(),!1):!0}),c.on("mousewheel.xdsoft",function(a){return F.scrollInput?!F.datepicker&&F.timepicker?(H=S.find(".xdsoft_current").length?S.find(".xdsoft_current").eq(0).index():0,H+a.deltaY>=0&&H+a.deltaY<S.children().length&&(H+=a.deltaY),S.children().eq(H).length&&S.children().eq(H).trigger("mousedown"),!1):F.datepicker&&!F.timepicker?(N.trigger(a,[a.deltaY,a.deltaX,a.deltaY]),c.val&&c.val(J.str()),L.trigger("changedatetime.xdsoft"),!1):void 0:!0}),L.on("changedatetime.xdsoft",function(b){if(F.onChangeDateTime&&a.isFunction(F.onChangeDateTime)){var c=L.data("input");F.onChangeDateTime.call(L,J.currentTime,c,b),delete F.value,c.trigger("change")}}).on("generate.xdsoft",function(){F.onGenerate&&a.isFunction(F.onGenerate)&&F.onGenerate.call(L,J.currentTime,L.data("input")),W&&(L.trigger("afterOpen.xdsoft"),W=!1)}).on("click.xdsoft",function(a){a.stopPropagation()}),H=0,K=function(a,b){do if(a=a.parentNode,b(a)===!1)break;while("HTML"!==a.nodeName)},I=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n;if(i=L.data("input"),b=i.offset(),c=i[0],k="top",d=b.top+c.offsetHeight-1,e=b.left,f="absolute",j=a(window).width(),m=a(window).height(),n=a(window).scrollTop(),document.documentElement.clientWidth-b.left<N.parent().outerWidth(!0)){var o=N.parent().outerWidth(!0)-c.offsetWidth;e-=o}"rtl"===i.parent().css("direction")&&(e-=L.outerWidth()-i.outerWidth()),F.fixed?(d-=n,e-=a(window).scrollLeft(),f="fixed"):(h=!1,K(c,function(a){return"fixed"===window.getComputedStyle(a).getPropertyValue("position")?(h=!0,!1):void 0}),h?(f="fixed",d+L.outerHeight()>m+n?(k="bottom",d=m+n-b.top):d-=n):d+c.offsetHeight>m+n&&(d=b.top-c.offsetHeight+1),0>d&&(d=0),e+c.offsetWidth>j&&(e=j-c.offsetWidth)),g=L[0],K(g,function(a){var b;return b=window.getComputedStyle(a).getPropertyValue("position"),"relative"===b&&j>=a.offsetWidth?(e-=(j-a.offsetWidth)/2,!1):void 0}),l={position:f,left:e,top:"",bottom:""},l[k]=d,L.css(l)},L.on("open.xdsoft",function(b){var c=!0;F.onShow&&a.isFunction(F.onShow)&&(c=F.onShow.call(L,J.currentTime,L.data("input"),b)),c!==!1&&(L.show(),I(),a(window).off("resize.xdsoft",I).on("resize.xdsoft",I),F.closeOnWithoutClick&&a([document.body,window]).on("touchstart mousedown.xdsoft",function d(){L.trigger("close.xdsoft"),a([document.body,window]).off("touchstart mousedown.xdsoft",d)}))}).on("close.xdsoft",function(b){var c=!0;O.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),F.onClose&&a.isFunction(F.onClose)&&(c=F.onClose.call(L,J.currentTime,L.data("input"),b)),c===!1||F.opened||F.inline||L.hide(),b.stopPropagation()}).on("toggle.xdsoft",function(){L.trigger(L.is(":visible")?"close.xdsoft":"open.xdsoft")}).data("input",c),X=0,L.data("xdsoft_datetime",J),L.setOptions(F),J.setCurrentTime(g()),c.data("xdsoft_datetimepicker",L).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){c.is(":disabled")||c.data("xdsoft_datetimepicker").is(":visible")&&F.closeOnInputClick||(clearTimeout(X),X=setTimeout(function(){c.is(":disabled")||(W=!0,J.setCurrentTime(g()),F.mask&&h(F),L.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(b){var c,d=b.which;return-1!==[q].indexOf(d)&&F.enterLikeTab?(c=a("input:visible,textarea:visible,button:visible,a:visible"),L.trigger("close.xdsoft"),c.eq(c.index(this)+1).focus(),!1):-1!==[x].indexOf(d)?(L.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){L.trigger("close.xdsoft")})},i=function(b){var c=b.data("xdsoft_datetimepicker");c&&(c.data("xdsoft_datetime",null),c.remove(),b.data("xdsoft_datetimepicker",null).off(".xdsoft"),a(window).off("resize.xdsoft"),a([window,document.body]).off("mousedown.xdsoft touchstart"),b.unmousewheel&&b.unmousewheel())},a(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(a){a.keyCode===o&&(E=!0)}).on("keyup.xdsoftctrl",function(a){a.keyCode===o&&(E=!1)}),this.each(function(){var b,c=a(this).data("xdsoft_datetimepicker");if(c){if("string"===a.type(e))switch(e){case"show":a(this).select().focus(),c.trigger("open.xdsoft");break;case"hide":c.trigger("close.xdsoft");break;case"toggle":c.trigger("toggle.xdsoft");break;case"destroy":i(a(this));break;case"reset":this.value=this.defaultValue,this.value&&c.data("xdsoft_datetime").isValidDate(d.parseDate(this.value,F.format))||c.data("changed",!1),c.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":b=c.data("input"),b.trigger("blur.xdsoft");break;default:c[e]&&a.isFunction(c[e])&&(j=c[e](g))}else c.setOptions(e);return 0}"string"!==a.type(e)&&(!F.lazyInit||F.open||F.inline?h(a(this)):H(a(this)))}),j},a.fn.datetimepicker.defaults=c}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),!function(a){function b(a){return!isNaN(parseFloat(a))&&isFinite(a)}function c(a){function b(a,c){return a instanceof Array?b(a[0],c+1):c}return b(a,0)}function d(a,b){return b>0&&(a=d([a],b-1)),a}function e(){return{source:null,name:null,id:-1,idx:-1,score:null}}function f(a){if(b(a.a.score)&&b(a.b.score)){if(a.a.score>a.b.score)return[a.a,a.b];if(a.a.score<a.b.score)return[a.b,a.a]}return[]}function g(a){return f(a)[0]||e()}function h(a){return f(a)[1]||e()}function i(b,c,d){var e=d.find(".team[data-teamid="+b+"]"),f=c?c:"highlight";return{highlight:function(){e.each(function(){a(this).addClass(f),a(this).hasClass("win")&&a(this).parent().find(".connector").addClass(f)})},deHighlight:function(){e.each(function(){a(this).removeClass(f),a(this).parent().find(".connector").removeClass(f)})}}}function j(b,c,d){var e=d||c,f=e.winner(),g=e.loser();f&&g&&(i(f.idx,"highlightWinner",b).highlight(),i(g.idx,"highlightLoser",b).highlight()),b.find(".team").mouseover(function(){var c=a(this).attr("data-teamid"),d=i(c,null,b);d.highlight(),a(this).mouseout(function(){d.deHighlight(),a(this).unbind("mouseout")})})}function k(b,c,d){var e=a('<input type="text">');e.val(c),b.html(e),e.focus(),e.blur(function(){d(e.val())}),e.keydown(function(a){var b=a.keyCode||a.which;(9===b||13===b||27===b)&&(a.preventDefault(),d(e.val(),27!==b))})}function l(a,b,c){a.append(b)}function m(a){var b=a.el,c=b.find(".team.win");c.append('<div class="bubble">1st</div>');var d=b.find(".team.lose");return d.append('<div class="bubble">2nd</div>'),!0}function n(a){var b=a.el,c=b.find(".team.win");c.append('<div class="bubble third">3rd</div>');var d=b.find(".team.lose");return d.append('<div class="bubble fourth">4th</div>'),!0}function o(a,b,c,d,e){for(var f,g=Math.log(2*b.length)/Math.log(2),h=b.length,i=0;g>i;i+=1){f=a.addRound();for(var j=0;h>j;j+=1){var k=0===i?v(b,j):null;if(i===g-1&&c||i===g-1&&e){var l=f.addMatch(k,m);e||l.setAlignCb(w(l,d))}else f.addMatch(k)}h/=2}if(c&&(a["final"]().connectorCb(function(){return null}),b.length>1&&!d)){var o=a["final"]().round().prev().match(0).loser,p=a["final"]().round().prev().match(1).loser,q=f.addMatch(function(){return[{source:o},{source:p}]},n);q.setAlignCb(function(b){var c=a.el.height()/2;q.el.css("height",c+"px");var d=b.height();b.css("top",d+"px")}),q.connectorCb(function(){return null})}}function p(a,b,c,d){for(var e=Math.log(2*c)/Math.log(2)-1,f=c/2,g=0;e>g;g+=1){for(var h=d&&g===e-1?1:2,i=0;h>i;i+=1)for(var j=b.addRound(),k=0;f>k;k+=1){var l=i%2!==0||0===g?x(a,b,f,k,i,g):null,m=g===e-1&&d,o=j.addMatch(l,m?n:null);if(o.setAlignCb(y(o.el.find(".teamContainer"),o)),m)o.connectorCb(function(){return null});else if(e-1>g||1>i){var p=i%2===0?function(a,b){var c=a.height()/4,d=0,e=0;return 0===b.winner().id?e=c:1===b.winner().id?(d=2*-c,e=c):e=2*c,
{height:d,shift:e}}:null;o.connectorCb(p)}}f/=2}}function q(a,b,c,d,e,f){var g=a.addRound(),h=g.addMatch(function(){return[{source:b.winner},{source:c.winner}]},function(e){var g=!1;if(d||null===e.winner().name||e.winner().name!==c.winner().name)return m(e);if(2!==a.size()){var h=a.addRound(function(){var b=null!==e.winner().name&&e.winner().name===c.winner().name;return g===!1&&b&&(g=!0,f.css("width",parseInt(f.css("width"),10)+140+"px")),!b&&g&&(g=!1,a.dropRound(),f.css("width",parseInt(f.css("width"),10)-140+"px")),b}),i=h.addMatch(function(){return[{source:e.first},{source:e.second}]},m);return e.connectorCb(function(a){return{height:0,shift:a.height()/2}}),i.connectorCb(function(){return null}),i.setAlignCb(function(a){var d=b.el.height()+c.el.height();i.el.css("height",d+"px");var e=(b.el.height()/2+b.el.height()+c.el.height()/2)/2-a.height();a.css("top",e+"px")}),!1}});if(h.setAlignCb(function(a){var d=b.el.height()+c.el.height();e||(d/=2),h.el.css("height",d+"px");var f=(b.el.height()/2+b.el.height()+c.el.height()/2)/2-a.height();a.css("top",f+"px")}),!e){var i=c["final"]().round().prev().match(0).loser,j=g.addMatch(function(){return[{source:i},{source:c.loser}]},n);j.setAlignCb(function(a){var d=(b.el.height()+c.el.height())/2;j.el.css("height",d+"px");var e=(b.el.height()/2+b.el.height()+c.el.height()/2)/2+a.height()/2-d;a.css("top",e+"px")}),h.connectorCb(function(){return null}),j.connectorCb(function(){return null})}b["final"]().connectorCb(function(a){var d,e,f=a.height()/4,g=(b.el.height()/2+b.el.height()+c.el.height()/2)/2-a.height()/2,h=g-b.el.height()/2;return 0===b.winner().id?(e=h+2*f,d=f):1===b.winner().id?(e=h,d=3*f):(e=h+f,d=2*f),e-=a.height()/2,{height:e,shift:d}}),c["final"]().connectorCb(function(a){var d,e,f=a.height()/4,g=(b.el.height()/2+b.el.height()+c.el.height()/2)/2-a.height()/2,h=g-b.el.height()/2;return 0===c.winner().id?(e=h,d=3*f):1===c.winner().id?(e=h+2*f,d=f):(e=h+f,d=2*f),e+=a.height()/2,{height:-e,shift:-d}})}function r(b,c,d,e,f,g){var h=[],i=a('<div class="round"></div>');return{el:i,bracket:b,id:d,addMatch:function(a,c){var f=h.length,i=null!==a?a():[{source:b.round(d-1).match(2*f).winner},{source:b.round(d-1).match(2*f+1).winner}],j=g(this,i,f,e?e[f]:null,c);return h.push(j),j},match:function(a){return h[a]},prev:function(){return c},size:function(){return h.length},render:function(){i.empty(),("function"!=typeof f||f())&&(i.appendTo(b.el),a.each(h,function(a,b){b.render()}))},results:function(){var b=[];return a.each(h,function(a,c){b.push(c.results())}),b}}}function s(b,c,d){var e=[];return{el:b,addRound:function(a){var b=e.length,f=b>0?e[b-1]:null,g=r(this,f,b,c?c[b]:null,a,d);return e.push(g),g},dropRound:function(){e.pop()},round:function(a){return e[a]},size:function(){return e.length},"final":function(){return e[e.length-1].match(0)},winner:function(){return e[e.length-1].match(0).winner()},loser:function(){return e[e.length-1].match(0).loser()},render:function(){b.empty();for(var a=0;a<e.length;a+=1)e[a].render()},results:function(){var b=[];return a.each(e,function(a,c){b.push(c.results())}),b}}}function t(b,c,d,e){var f=parseInt(a(".round:first").css("margin-right"),10)/2,g=!0;0>b&&(g=!1,b=-b),2>b&&(b=0);var h=a('<div class="connector"></div>').appendTo(d);h.css("height",b),h.css("width",f+"px"),h.css(e,-f-2+"px"),c>=0?h.css("top",c+"px"):h.css("bottom",-c+"px"),g?h.css("border-bottom","none"):h.css("border-top","none");var i=a('<div class="connector"></div>').appendTo(h);return i.css("width",f+"px"),i.css(e,-f+"px"),g?i.css("bottom","0px"):i.css("top","0px"),h}function u(b,c,d){var e=a('<div class="tools"></div>').appendTo(b),f=a('<span class="increment">+</span>').appendTo(e);if(f.click(function(){for(var a=c.teams.length,b=0;a>b;b+=1)c.teams.push(["",""]);return z(d)}),c.teams.length>1&&1===c.results.length||c.teams.length>2&&3===c.results.length){var g=a('<span class="decrement">-</span>').appendTo(e);g.click(function(){return c.teams.length>1?(c.teams=c.teams.slice(0,c.teams.length/2),z(d)):void 0})}if(1===c.results.length&&c.teams.length>1){var h=a('<span class="doubleElimination">de</span>').appendTo(e);h.click(function(){return c.teams.length>1&&c.results.length<3?(c.results.push([],[]),z(d)):void 0})}else if(3===c.results.length&&c.teams.length>1){var h=a('<span class="singleElimination">se</span>').appendTo(e);h.click(function(){return 3===c.results.length?(c.results=c.results.slice(0,1),z(d)):void 0})}}var v=function(a,b){return function(){return[{source:function(){return{name:a[b][0],idx:2*b}}},{source:function(){return{name:a[b][1],idx:2*b+1}}}]}},w=function(a,b){return function(c){c.css("top",""),c.css("position","absolute"),b?c.css("top",a.el.height()/2-c.height()/2+"px"):c.css("bottom",-c.height()/2+"px")}},x=function(a,b,c,d,e,f){return function(){if(e%2===0&&0===f)return[{source:a.round(0).match(2*d).loser},{source:a.round(0).match(2*d+1).loser}];var g=f%2===0?c-d-1:d;return[{source:b.round(2*f).match(d).winner},{source:a.round(f+1).match(g).loser}]}},y=function(a,b){return function(){return a.css("top",b.el.height()/2-a.height()/2+"px")}},z=function(e){function f(a){n=0,w.render(),x&&x.render(),y&&!e.skipGrandFinalComeback&&y.render(),j(z,w,y),a&&(v.results[0]=w.results(),x&&(v.results[1]=x.results()),y&&!e.skipGrandFinalComeback&&(v.results[2]=y.results()),e.save&&e.save(v,e.userData))}function i(c,d,i,j,k){function l(c,d,i){var j=n,k=a('<div class="score" data-resultid="result-'+j+'"></div>'),l=d.name&&i&&b(d.score)?d.score:"--";k.append(l),n+=1;var o=d.name?d.name:"--",p=a('<div class="team"></div>'),q=a('<div class="label"></div>').appendTo(p);return 0===c&&p.attr("data-resultid","team-"+j),e.decorator.render(q,o,l),b(d.idx)&&p.attr("data-teamid",d.idx),null===d.name?p.addClass("na"):g(m).name===d.name?p.addClass("win"):h(m).name===d.name&&p.addClass("lose"),p.append(k),null!==d.name&&i&&e.save&&e.save&&(q.addClass("editable"),q.click(function(){function b(){function h(h,i){h&&(e.init.teams[~~(d.idx/2)][d.idx%2]=h),f(!0),g.click(b);var j=e.el.find(".team[data-teamid="+(d.idx+1)+"] div.label:first");j.length&&i===!0&&0===c&&a(j).click()}g.unbind(),e.decorator.edit(g,d.name,h)}var g=a(this);b()}),d.name&&(k.addClass("editable"),k.click(function(){function c(){e.unbind();var g=b(d.score)?e.text():"0",h=a('<input type="text">');h.val(g),e.html(h),h.focus().select(),h.keydown(function(c){b(a(this).val())?a(this).removeClass("error"):a(this).addClass("error");var d=c.keyCode||c.which;if(9===d||13===d||27===d){if(c.preventDefault(),a(this).blur(),27===d)return;var e=z.find("div.score[data-resultid=result-"+(j+1)+"]");e&&e.click()}}),h.blur(function(){var a=h.val();a&&b(a)||b(d.score)?a&&b(a)||!b(d.score)||(a=d.score):a="0",e.html(a),b(a)&&(d.score=parseInt(a,10),f(!0)),e.click(c)})}var e=a(this);c()}))),p}var m={a:d[0],b:d[1]},o=null,p=null,q=a('<div class="match"></div>'),s=a('<div class="teamContainer"></div>');if(!e.save){var u=j?j[2]:null;e.onMatchHover&&s.hover(function(){e.onMatchHover(u,!0)},function(){e.onMatchHover(u,!1)}),e.onMatchClick&&s.click(function(){e.onMatchClick(u)})}return m.a.id=0,m.b.id=1,m.a.name=m.a.source().name,m.b.name=m.b.source().name,m.a.score=j?j[0]:null,m.b.score=j?j[1]:null,m.a.name&&m.b.name||!b(m.a.score)&&!b(m.b.score)||(console.log("ERROR IN SCORE DATA: "+m.a.source().name+": "+m.a.score+", "+m.b.source().name+": "+m.b.score),m.a.score=m.b.score=null),{el:q,id:i,round:function(){return c},connectorCb:function(a){o=a},connect:function(a){var b,c,d=s.height()/4,e=q.height()/2;if(a&&null!==a){var f=a(s,this);if(null===f)return;b=f.shift,c=f.height}else i%2===0?0===this.winner().id?(b=d,c=e):1===this.winner().id?(b=3*d,c=e-2*d):(b=2*d,c=e-d):0===this.winner().id?(b=3*-d,c=-e+2*d):1===this.winner().id?(b=-d,c=-e):(b=2*-d,c=-e+d);s.append(t(c,b,s,r))},winner:function(){return g(m)},loser:function(){return h(m)},first:function(){return m.a},second:function(){return m.b},setAlignCb:function(a){p=a},render:function(){q.empty(),s.empty(),m.a.name=m.a.source().name,m.b.name=m.b.source().name,m.a.idx=m.a.source().idx,m.b.idx=m.b.source().idx,g(m).name?s.removeClass("np"):s.addClass("np");var a=(Boolean(m.a.name)||""===m.a.name)&&(Boolean(m.b.name)||""===m.b.name);s.append(l(c.id,m.a,a)),s.append(l(c.id,m.b,a)),q.appendTo(c.el),q.append(s),this.el.css("height",c.bracket.el.height()/c.size()+"px"),s.css("top",this.el.height()/2-s.height()/2+"px"),null!==p&&p(s);var b="function"==typeof k?k(this):!1;b||this.connect(o)},results:function(){return[m.a.score,m.b.score]}}}function m(a){return B?Math.log(2*a)/Math.log(2):e.skipGrandFinalComeback?Math.max(2,2*(Math.log(2*a)/Math.log(2)-1)-1):2*(Math.log(2*a)/Math.log(2)-1)+1}var n,r="lr"===e.dir?"right":"left";if(!e)throw Error("Options not set");if(!e.el)throw Error("Invalid jQuery object as container");if(!e.init&&!e.save)throw Error("No bracket data or save callback given");if(void 0===e.userData&&(e.userData=null),!(!e.decorator||e.decorator.edit&&e.decorator.render))throw Error("Invalid decorator input");e.decorator||(e.decorator={edit:k,render:l});var v;e.init||(e.init={teams:[["",""]],results:[]}),v=e.init;var w,x,y,z=a('<div class="jQBracket '+e.dir+'"></div>').appendTo(e.el.empty()),A=d(v.results,4-c(v.results));v.results=A;var B=A.length<=1;e.skipSecondaryFinal&&B&&a.error("skipSecondaryFinal setting is viable only in double elimination mode"),e.save&&u(z,v,e);var C,D,E;B?D=a('<div class="bracket"></div>').appendTo(z):(e.skipGrandFinalComeback||(C=a('<div class="finals"></div>').appendTo(z)),D=a('<div class="bracket"></div>').appendTo(z),E=a('<div class="loserBracket"></div>').appendTo(z));var F=64*v.teams.length;D.css("height",F),B&&v.teams.length<=2&&!e.skipConsolationRound&&z.css("height",F+40),E&&E.css("height",D.height()/2);var G=m(v.teams.length);return e.save?z.css("width",140*G+40):z.css("width",140*G+10),w=s(D,A&&A[0]?A[0]:null,i),B||(x=s(E,A&&A[1]?A[1]:null,i),e.skipGrandFinalComeback||(y=s(C,A&&A[2]?A[2]:null,i))),o(w,v.teams,B,e.skipConsolationRound,e.skipGrandFinalComeback&&!B),B||(p(w,x,v.teams.length,e.skipGrandFinalComeback),e.skipGrandFinalComeback||q(y,w,x,e.skipSecondaryFinal,e.skipConsolationRound,z)),f(!1),{data:function(){return e.init}}},A={init:function(b){var c=a.extend(!0,{},b),d=this;c.el=this,c.save&&(c.onMatchClick||c.onMatchHover)&&a.error("Match callbacks may not be passed in edit mode (in conjunction with save callback)"),c.dir=c.dir||"lr",c.init.teams=c.init.teams&&0!==c.init.teams.length?c.init.teams:[["",""]],c.skipConsolationRound=c.skipConsolationRound||!1,c.skipSecondaryFinal=c.skipSecondaryFinal||!1,"lr"!==c.dir&&"rl"!==c.dir&&a.error('Direction must be either: "lr" or "rl"');var e=z(c);return a(this).data("bracket",{target:d,obj:e}),e},data:function(){var b=a(this).data("bracket");return b.obj.data()}};a.fn.bracket=function(b){return A[b]?A[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.bracket"):A.init.apply(this,arguments)}}(jQuery),function(){function a(a,b){function c(c){return b.get(a.url+"/find_users_by_team.json?team_id="+c)}function d(c){return b.post(a.url+"/user_results.json",{users_results:c})}function e(c){return b.get(a.url+"/users/"+c+".json")}var f={getUsersByTeam:c,setUsersResults:d,profileInfo:e};return f}angular.module("tableSoccerClientAngularApp").factory("UserService",["defaultHost","$http",a])}(),function(){function a(a,b,c,d){function e(){b.validateUser().then(function(){c.profileInfo(a.user.id).success(function(a){f.tournaments=a.profile.tournaments,f.teams=a.profile.teams}).error(function(a){f.errors=a,console.log(a)})})}var f=this;e(),f.changeAvatarModal=function(){d.open({templateUrl:"views/modal.html",controller:"ChangeAvatarCtrl"})},f.changePasswordModal=function(){d.open({templateUrl:"views/modal.html",controller:"ChangePasswordCtrl"})}}angular.module("tableSoccerClientAngularApp").controller("ProfileCtrl",["$rootScope","$auth","UserService","$uibModal",a])}(),function(){function a(a,b,c,d,e){var f=this;b.templateUrl="views/users/avatar_modal.html",b.title="Change avatar",b.action="Update",b.submit=function(a,b){for(var c="",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;5>e;e++)c+=d.charAt(Math.floor(Math.random()*d.length));f.dataUrl=a,f.name=c+b},b.ok=function(){e(function(){angular.element("#submit").triggerHandler("click"),d.upload({url:"/api/update_avatar.json",method:"POST",data:{id:a.user.id,file:d.dataUrltoBlob(f.dataUrl,f.name)}}).then(function(b){a.user.avatar.url=b.data.avatar.url,c.close()})},1)},b.cancel=function(){c.dismiss()}}angular.module("tableSoccerClientAngularApp").controller("ChangeAvatarCtrl",["$rootScope","$scope","$uibModalInstance","Upload","$timeout",a])}(),function(){function a(a,b,c){a.templateUrl="views/users/update_password.html",a.title="Change password",a.action="Update",a.updatePasswordForm={},a.ok=function(){c.updatePassword(a.updatePasswordForm).then(function(){b.close()},function(b){a.error=b})},a.cancel=function(){b.dismiss()}}angular.module("tableSoccerClientAngularApp").controller("ChangePasswordCtrl",["$scope","$uibModalInstance","$auth",a])}(),function(){function a(a,b){function c(c){return b.get(a.url+"/teams/new.json?t_id="+c)}function d(c){return b.post(a.url+"/teams.json",{team:{generate_method:c.g_method,ids:c.ids,tournament_id:c.t_id}})}function e(c){return b.post(a.url+"/matches.json",{count:c.count,match:{tournament_id:c.t_id,tour:c.tour}})}var f={getUsers:c,createTeams:d,createMatches:e};return f}angular.module("tableSoccerClientAngularApp").factory("SetupTournamentService",["defaultHost","$http",a])}(),function(){function a(a,b,c,d){function e(a,b){for(var c=0;c<b.length;c++)b[c].selected=!1;a.selected=!0}var f=this;f.selectedUsers=[],f.count=0,f.tour=0,f.systems=[{name:"Best of 1",count:1},{name:"Best of 2",count:2},{name:"Best of 3",count:3},{name:"Best of 5",count:5}],f.tours=[{name:"1/8",id:1},{name:"1/4",id:2},{name:"1/2",id:3},{name:"final",id:4}],f.teamscount=[],a.users=[],d.getUsers(b.params.id).success(function(b){angular.copy(b,a.users)}),f.selectOrRemoveUser=function(a){if(a.selected)f.selectedUsers.push(a);else for(var b=0;b<f.selectedUsers.length;b++)if(f.selectedUsers[b].id===a.id){f.selectedUsers.splice(b,1);break}},f.selectSystem=function(a){e(a,f.systems),f.count=a.count},f.selectStartTour=function(a){e(a,f.tours),f.tour=a.id},f.teamsCount=function(){f.selectedUsers.length%2==0&&(f.teamscount=new Array(f.selectedUsers.length/2))},f.generateSetup=function(a){var e=[],g=0;if(a){var h=0;for(g=0;g<f.teamscount.length;g++)$("#team-"+(g+1)).children().each(function(){e[h]=parseInt($(this).attr("id")),h++})}else for(g=0;g<f.selectedUsers.length;g++)e[g]=f.selectedUsers[g].id;d.createTeams({g_method:a?2:1,ids:e,t_id:b.params.id}).success(function(){d.createMatches({count:f.count,t_id:b.params.id,tour:f.tour}).success(function(){c.path("/tournaments/"+b.params.id)})})}}angular.module("tableSoccerClientAngularApp").controller("TournamentSetupCtrl",["$scope","$state","$location","SetupTournamentService",a])}(),function(){angular.module("tableSoccerClientAngularApp").directive("dateTimePicker",["$timeout",function(a){return{link:function(b,c,d){a(function(){$(c).datetimepicker({format:"c",timepicker:!0,validateOnBlur:!1,step:10,yearStart:2016,lang:"en",onShow:function(a){var b=Date.now();this.setOptions({minDate:b,minTime:a>b?!1:b})},onChangeDateTime:function(a){var b=Date.now();this.setOptions({minTime:a>b?!1:b})}})},0)}}}])}(),function(){angular.module("tableSoccerClientAngularApp").directive("slideTable",function(){return{restrict:"A",link:function(a,b){a.$last&&$("span.glyphicon-info-sign").click(function(){var a=$(this).parents().next().find(".match-info");"block"===a.css("display")?a.slideUp():($(".match-info").slideUp(),a.slideDown("slow"))})}}})}(),angular.module("tableSoccerClientAngularApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/auth/sign_in.html",'<div class="container"> <div class="col-md-3 col-md-offset-4 text-center"> <div class="alert alert-danger" role="alert" ng-show="error"> <ul> <li ng-repeat="error in error">{{error}}</li> </ul> </div> <form ng-submit="submitLogin(loginForm)" role="form" ng-init="loginForm = {}"> <div class="form-group"> <label for="email">Email</label> <input type="email" name="email" id="email" ng-model="loginForm.email" required class="form-control"> </div> <div class="form-group"> <label for="password">Password</label> <input type="password" name="password" id="password" ng-model="loginForm.password" required class="form-control"> </div> <button type="submit" class="btn btn-primary">Sign in</button> </form> </div> </div>'),a.put("views/auth/sign_up.html",'<div class="container"> <div class="col-md-3 col-md-offset-4 text-center"> <div class="alert alert-danger" role="alert" ng-show="error"> <ul> <li ng-repeat="error in error.full_messages">{{error}}</li> </ul> </div> <form ng-submit="handleRegBtnClick()" role="form" ng-init="registrationForm = {}" autocomplete="false"> <div class="form-group"> <label for="first_name">First name</label> <input type="text" name="first_name" id="first_name" ng-model="registrationForm.first_name" required class="form-control"> </div> <div class="form-group"> <label for="last_name">Last name</label> <input type="text" name="last_name" id="last_name" ng-model="registrationForm.last_name" required class="form-control"> </div> <div class="form-group"> <label for="email">Email</label> <input type="email" name="email" id="email" ng-model="registrationForm.email" required class="form-control"> </div> <div class="form-group"> <label for="password">Password</label> <input type="password" name="password" id="password" ng-model="registrationForm.password" required class="form-control"> </div> <div class="form-group"> <label for="password_confirmation">Password confirmation</label> <input type="password" name="password_confirmation" id="password_confirmation" ng-model="registrationForm.password_confirmation" required class="form-control"> </div> <button type="submit" class="btn btn-primary">Register</button> </form> </div> </div>'),a.put("views/main.html",'<!--<div class="alert alert-warning" role="alert" ng-show="error">--><!--{{error}}--><!--</div>--> <div id="carousel-example-generic" class="carousel slide" data-ride="carousel"> <!-- Indicators --> <ol class="carousel-indicators"> <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li> <li data-target="#carousel-example-generic" data-slide-to="1"></li> <li data-target="#carousel-example-generic" data-slide-to="2"></li> </ol> <!-- Wrapper for slides --> <div class="carousel-inner" role="listbox"> <div class="item active"> <img src="https://i.ytimg.com/vi/B0aF5Z1Bq4s/maxresdefault.jpg" alt="..."> <div class="carousel-caption"> ... </div> </div> <div class="item"> <img src="http://www.foosballreviews.com/foosball-video-picture.jpg" alt="..."> <div class="carousel-caption"> ... </div> </div> <div class="item"> <img src="http://media.webcollage.net/rwvfp/wc/cp/15932949/module/cpwalmart/_cp/products/1413992843685/tab-7f1760b2-826c-45dc-86ff-4c1d6038ec11/723be873-78ca-4c63-9713-e5438f55319f.mp4.poster.jpg.web.jpg" alt="..."> <div class="carousel-caption"> ... </div> </div> </div> <!-- Controls --> <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="jumbotron"> <a ng-if="!user.id" ui-sref="sign_in" class="btn btn-primary">Sign in</a> <a ng-if="!user.id" ui-sref="sign_up" class="btn btn-success">Sign up</a> <button ng-if="!user.id" ng-click="authenticate(\'facebook\')">Facebook</button> <h1 ng-if="user.id">{{user.first_name}} welcome!</h1> </div>'),a.put("views/modal.html",'<div class="modal-header"> <h3 class="modal-title">{{title}}</h3> </div> <div class="modal-body"> <form name="form"> <div ng-include="templateUrl"></div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()" ng-disabled="form.$invalid">{{action}}</button> <button class="btn btn-default" type="button" ng-click="cancel()">Cancel</button> </div>'),a.put("views/tournaments/edit_tournament_round.html",'<!--<p>{{round}}</p>--> <div class="row"> <div class="col-md-6" ng-repeat="round in round.rounds"> <div class="form-group"> <img ng-src="{{defaultHost}}{{round.users[0].avatar.url}}" class="img-circle" height="50" width="50"> <span><strong>{{round.users[0].first_name}} {{round.users[0].last_name}}</strong> scored goals</span> <br><br> <input type="number" class="form-control" value="0" min="0" id="{{round.users[0].id}}"> </div> <div class="form-group"> <img ng-src="{{defaultHost}}{{round.users[1].avatar.url}}" class="img-circle" height="50" width="50"> <span><strong>{{round.users[1].first_name}} {{round.users[1].last_name}}</strong> scored goals</span> <br><br> <input type="number" class="form-control" value="0" min="0" id="{{round.users[1].id}}"> </div> </div> </div>'),a.put("views/tournaments/index.html",'<a ng-if="user.is_admin" class="btn btn-primary" ng-click="tournaments.openNewModalWindow()">New tournament</a> <h2>Tournaments</h2> <table class="table"> <tr> <th>Name</th> <th>Status</th> <th>Place</th> <th colspan="3">Date&time</th> </tr> <tr ng-repeat="tournament in tournaments.tournaments"> <td ng-if="!tournament.deleting" class="col-md-3"><a ui-sref="tournaments_show({id: tournament.id})">{{tournament.name}}</a></td> <td ng-if="!tournament.deleting" class="col-md-2">{{tournament.tourn_type}}</td> <td ng-if="!tournament.deleting" class="col-md-2">{{tournament.place}}</td> <td ng-if="!tournament.deleting" class="col-md-2">{{tournament.datetime | date:\'MMM d, y H:mm\'}}</td> <td ng-if="user.is_admin" ng-hide="tournament.deleting" class="col-md-1"> <span class="glyphicon glyphicon-edit" ng-click="tournaments.editModalWindow(tournament)"></span> </td> <td ng-if="user.is_admin" ng-hide="tournament.deleting" class="col-md-1"> <span class="glyphicon glyphicon-trash" ng-click="tournament.deleting = true; tournaments.deletedItems.push(tournament.id)"></span> </td> <td colspan="6" class="deleted-row bg-warning col-md-12" ng-show="tournament.deleting"> {{tournament.name}} will be removed <span ng-click="tournament.deleting = false; tournaments.undoDeleting(tournament.id)">undo</span></td> </tr> </table> <button ng-show="user.is_admin && tournaments.deletedItems.length > 0" class="btn btn-success center-block" ng-click="tournaments.confirmDelete()">Confirm delete</button>'),a.put("views/tournaments/setup_tournament.html",'<section id="setup"> <div class="row"> <h1 class="text-center">Teams&Matches setup</h1> <div class="col-md-5"> <h2 class="text-center">1. Select players</h2> <h3 class="text-center">Selected: <span ng-class="{\'text-danger\': setup.selectedUsers.length %2 !== 0}">{{setup.selectedUsers.length}}</span></h3> <div id="selectUsers" class="list-group center-block"> <div class="list-group-item" ng-repeat=" user in users" ng-init="user.selected = false" ng-click="user.selected = !user.selected; setup.selectOrRemoveUser(user); setup.teamsCount()" ng-class="{\'bg-success\': user.selected}"> <img ng-src="{{defaultHost}}{{user.avatar.url}}" class="img-circle" alt="" height="100" width="100"> <span class="noselect">{{user.first_name}} {{user.last_name}}</span> </div> </div> </div> <div class="col-md-7"> <h2 class="text-center">2. Select teams generate mode</h2> <div class="row"> <div class="col-xs-offset-4 col-sm-offset-5"> <div class="btn-group" data-toggle="buttons" ng-init="manually = false"> <label class="btn btn-primary active" ng-click="manually = false"> <input type="radio" checked>Automatically </label> <label class="btn btn-primary" ng-click="manually = true"> <input type="radio">Manually </label> </div> </div> </div> <h2 class="text-center text-info" ng-if="!manually">Teams will be generated automatically.</h2> <div class="manually-setup" ng-if="manually"> <h2 class="text-center text-info" ng-if="setup.selectedUsers.length < 1">Please select players</h2> <h2 class="text-center text-danger" ng-if="setup.selectedUsers.length %2 !== 0 &&\n            setup.selectedUsers.length > 0 ||\n            setup.selectedUsers.length < 3">Players count must be even and > 4!</h2> <div class="teams noselect" ng-if="setup.selectedUsers.length > 3"> <div class="row"> <div class="col-md-4"> <div class="selected-users panel panel-primary"> <div class="panel-heading"> <h3 class="panel-title">Selected users</h3> </div> <div class="panel-body"> <ul class="sortable" ui-sortable="{connectWith: \'.sortable\'}"> <li ng-repeat="user in setup.selectedUsers" id="{{user.id}}">{{user.first_name}} {{user.last_name}}</li> </ul> </div> </div> </div> <div class="col-md-8"> <div class="team panel panel-primary" ng-repeat="team in setup.teamscount track by $index"> <div class="panel-heading"> <h3 class="panel-title">Team {{$index + 1}}</h3> </div> <div class="panel-body"> <ul id="team-{{$index + 1}}" ui-sortable="{connectWith: \'.sortable\'}" class="sortable"></ul> </div> </div> </div> </div> </div> </div> </div> </div>  <div class="row"> <div class="col-md-6"> <h2 class="text-center">3. Set match system</h2> <div class="list-group center-block"> <div class="list-group-item text-center" ng-repeat=" system in setup.systems" ng-init="system.selected = false" ng-click="setup.selectSystem(system)" ng-class="{\'bg-success\': system.selected}"> {{system.name}} </div> </div> </div> <div class="col-md-6"> <h2 class="text-center">4. Play-off begins with</h2> <div class="list-group center-block"> <div class="list-group-item text-center" ng-repeat=" tour in setup.tours" ng-init="tour.selected = false" ng-click="setup.selectStartTour(tour)" ng-class="{\'bg-success\': tour.selected}"> {{tour.name}} </div> </div> </div> </div> <button class="btn btn-success btn-lg center-block" ng-disabled="setup.selectedUsers.length %2 !== 0 ||\n                       setup.selectedUsers.length === 0 ||\n                       setup.count === 0 ||\n                       setup.tour === 0" ng-click="setup.generateSetup(manually)">Generate teams&matches</button> <br> </section>'),a.put("views/tournaments/show.html",'<div class="row"> <a ng-if="user.is_admin" ui-sref="setup_tournament({id: tournament.tournament.id})" class="btn btn-primary">Setup teams&matches</a> </div> <br> <div class="row"> <div class="col-md-3"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Tournament info<span ng-if="user.is_admin" class="glyphicon glyphicon-edit pull-right" ng-click="tournament.editTournamentModalWindow(tournament.tournament)"></span> </h3> </div> <div class="panel-body"> <p>Name: {{tournament.tournament.name}}</p> <p>Status: {{tournament.tournament.tourn_type}}</p> <p>Place: {{tournament.tournament.place}}</p> <p>Datetime: {{tournament.tournament.datetime | date:\'MMM d, y H:mm\'}}</p> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Tournament teams</h3> </div> <div class="panel-body"> <p ng-repeat="team in tournament.teams">{{team.name}}</p> </div> </div> </div> <div class="col-md-9"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Results table</h3> </div> <div class="panel-body"> <table class="table"> <tr> <th>Place</th> <th>Team</th> <th>Played games</th> <th>Wins</th> <th>Loses</th> <th>S - M goals</th> <th>Goals difference</th> <th>Points</th> </tr> <tr ng-repeat="result in tournament.results"> <td>{{result.place}}</td> <td>{{result.team.name}}</td> <td class="text-center">{{result.played_games}}</td> <td class="text-center">{{result.wins}}</td> <td class="text-center">{{result.loses}}</td> <td class="text-center">{{result.scored_goals}} - {{result.missed_goals}}</td> <td class="text-center">{{result.goals_difference}}</td> <td class="text-center">{{result.points}}</td> </tr> </table> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Play-off bracket</h3> </div> <div class="panel-body" id="playoff-table"> <div id="playoff-bracket" class="bracket"></div> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Tournament matches</h3> </div> <div class="panel-body"> <form> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div> <input type="text" class="form-control" placeholder="Search match" ng-model="searchMatch"> </div> </div> </form> <table class="table"> <tr> <th>Teams</th> <th>Type</th> <th>Datetime</th> <th>Status</th> <th>Tour</th> <th>Winner</th> <th></th> </tr> <tr ng-repeat-start="match in tournament.matches | orderBy:sortType:sortReverse | filter:searchMatch" class="main" slide-table> <!--ng-show="match.match_teams[0].name && match.match_teams[1].name"--> <td class="col-md-3">{{match.match_teams[0].name}} VS {{match.match_teams[1].name}}</td> <td class="col-md-1">{{match.match.match_type}}</td> <td class="col-md-2">{{match.match.datetime | date:\'MMM d, y H:mm\'}}</td> <td class="col-md-1">{{match.match.status}}</td> <td class="col-md-1">{{match.match.tour }}<span ng-if="!match.match.tour" class="glyphicon glyphicon-minus"></span></td> <td class="col-md-2">{{tournament.findWinnerTeam(match.match.winner_team_id)}}</td> <td class="col-md-1"><span class="glyphicon glyphicon-info-sign pull-right"></span></td> </tr> <tr ng-repeat-end> <td colspan="7" class="detailed"> <div class="match-info"> <table class="table"> <tr> <th>Round number</th> <th>Scored goals</th> <th>Missed goals</th> <th colspan="2">Status</th> </tr> <tr ng-repeat="round in match.match_rounds"> <td>{{$index + 1}}</td> <td>{{round[0].scored_goals}} - {{round[1].scored_goals}}</td> <td>{{round[0].missing_goals}} - {{round[1].missing_goals}}</td> <td>{{round[0].status}}</td> <td ng-if="user.is_admin"><span class="glyphicon glyphicon-edit" ng-click="tournament.editRoundModalWindow(round,match.match.tournament_id)"></span></td> </tr> </table> </div> </td> </tr> </table> </div> </div> </div> </div>'),a.put("views/tournaments/tournament_form.html",'<div class="form-group" ng-class="{ \'has-error\' : form.tournamentName.$invalid }"> <label for="tournamentName">Name</label> <input type="text" class="form-control" id="tournamentName" name="tournamentName" placeholder="name" ng-model="tournament.name" ng-value="tournament.name" ng-minlength="10" ng-maxlength="50" required> <span class="help-block" ng-show="form.tournamentName.$invalid">Required and must be 10-50 characters</span> </div> <div class="form-group"> <label for="tournamentType">Status</label> <!--<input type="text"--> <!--class="form-control"--> <!--id="tournamentType"--> <!--name="tournamentType"--> <!--placeholder="status"--> <!--ng-model="tournament.type"--> <!--ng-value="tournament.type"--> <!--required>--> <select name="tournamentType" id="tournamentType" class="form-control" ng-model="tournament.tourn_type"> <option value="current">current</option> <option value="finished">finished</option> <option value="not started">not started</option> </select> </div> <div class="form-group" ng-class="{ \'has-error\' : form.tournamentPlace.$invalid }"> <label for="tournamentPlace">Place</label> <input type="text" class="form-control" id="tournamentPlace" name="tournamentPlace" placeholder="place" ng-model="tournament.place" ng-value="tournament.place" required> <span class="help-block" ng-show="form.tournamentPlace.$invalid">Required</span> </div> <div class="form-group" ng-class="{ \'has-error\' : form.tournamentDatetime.$invalid }"> <label for="tournamentDatetime">Datetime</label> <input type="text" class="form-control" id="tournamentDatetime" name="tournamentDatetime" placeholder="datetime" ng-model="tournament.datetime" ng-value="tournament.datetime" date-time-picker="" required> <span class="help-block" ng-show="form.tournamentDatetime.$invalid">Required</span> </div>'),
a.put("views/users/avatar_modal.html",'<button class="btn btn-primary" ng-model="picFile" ngf-select accept="image/*">select</button> <br><br> <div ngf-drop ng-model="picFile" ngf-pattern="image/*" class="cropArea" ng-class="{\'drop-box\' : !picFile}"> <span ng-if="!picFile" class="drop-text">Drop or select picture</span> <img-crop image="picFile  | ngfDataUrl" area-type="square" result-image-size="215" result-image="croppedDataUrl" ng-init="croppedDataUrl=\'\'"> </img-crop> </div> <br> <div ng-if="picFile"> <img class="center-block" ng-src="{{croppedDataUrl}}"> </div> <input type="text" required ng-model="picFile.name" style="display: none"> <button id="submit" ng-disabled="!picFile" ng-click="submit(croppedDataUrl, picFile.name); req=\'qwe\'" class="btn btn-success" ng-required="true" style="display: none">Confirm</button>'),a.put("views/users/profile.html",'<div class="container"> <div class="row"> <div class="col-md-4"> <div class="user-avatar"> <img ng-src="{{defaultHost}}{{user.avatar.url}}" class="center-block"> <br> <button class="btn btn-primary center-block" ng-click="profile.changeAvatarModal()">Change avatar</button> <br> <div id="upload-form"> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">Profile information</h3> </div> <div class="panel-body"> <p><span class="profile-field">First name: </span>{{user.first_name}}</p> <p><span class="profile-field">Last name: </span>{{user.last_name}}</p> <p><span class="profile-field">E-mail: </span>{{user.email}}</p> <button ng-if="user.provider !== \'facebook\'" ng-click="profile.changePasswordModal()" class="btn btn-danger">Change password</button> </div> </div> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">My teams</h3> </div> <div class="panel-body"> <table class="table"> <tr> <th>Name</th> </tr> <tr ng-repeat=" team in profile.teams"> <td>{{team.name}}</td> </tr> </table> </div> </div> </div> <div class="col-md-8"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title">My tournaments</h3> </div> <div class="panel-body"> <table class="table"> <tr> <th>Name</th> <th>Type</th> <th>Place</th> <th>Date</th> </tr> <tr ng-repeat=" tournament in profile.tournaments"> <td><a ui-sref="tournaments_show({id: tournament.id})">{{tournament.name}}</a></td> <td>{{tournament.tourn_type}}</td> <td>{{tournament.place}}</td> <td>{{tournament.datetime | date: \'MMM d, y H:mm\'}}</td> </tr> </table> </div> </div> </div> </div> </div>'),a.put("views/users/update_password.html",'<!--<div class="alert alert-danger" role="alert" ng-show="error">--><!--<ul>--><!--<li ng-repeat="error in error.full_messages">{{error}}</li>--><!--</ul>--><!--</div>--><!--<div class="form-group">--><!--<label>current password</label>--><!--<input type="password" id="current_password" name="current_password" ng-model="updatePasswordForm.current_password" required="required" class="form-control">--><!--</div>--> <div class="form-group"> <label>password</label> <input type="password" name="password" ng-model="updatePasswordForm.password" required class="form-control"> </div> <div class="form-group"> <label>password confirmation</label> <input type="password" name="password_confirmation" ng-model="updatePasswordForm.password_confirmation" required class="form-control"> </div>')}]);